# RTOS_DC_Motor_Control

ðŸ“Œ Description

This project was developed throughout the course of an academic semester as the courses main lab assignment for the Computer Engineering Senior level course EGEC 451 Real-Time Operating Systems for Embedded Systems. In this project the student (me) adapted a rudimentary real-time operating system (RTOS) for the purpose of understanding different concepts and workings of an RTOS for embedded systems. The project itself begins by working with a bare bones RTOS and with each subsequent lab having us add more and more functionally to it. As can be seen from the entries in the repository I decided to reflect that here.

The first entry involves setting up code for interfacing with the EduBase-V2 Trainer's on board LCD display as well as the TivaC's PWM and timer peripherals. The PWM perihperal was used for controlling the speed of the external motor and the timer was used as an input capture for the DC motor's encoder. Using the time between interrupts to output the rotations-pre-minute (RPM) of the motor onto the LCD.

The second entry is the start of the implementation of the RTOS. This lab begins by testing the RTOS given by the class text book (Real-Time Operating Systems for ARM Cortex-M Microcontrollers by Jonathan W. Valvano). The next task was to revise the RTOS/kernel and thread scheduler to add a time slice counter. Next, the seven-segment display and SPI interface were initialized so the new time slice counter could be outputted onto it. Next, the thread control block (TCB) and thread scheduler needed to be revised to add support for a thread identifier number which would also be displayed on the seven-segment. Lastly, was to code the three user threads that the RTOS will cycle through. The first thread controlled the speed of the DC motor and the second thread printed the RPM of the DC motor to the LCD.

The thrid entry was tasked with adding more user functionallity as well as sharing data between different threads and implementing blocking into the RTOS. The first task was to add support for the user to define the DC motor's speed using the EduBase-V2 Trainer's on board push buttons. These buttons will cause an interruput to occur in the interrupt handler which will set a mailbox global varible that will be shared with user task one for setting the motor speed. Next, the RTOS can 
